<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="styles.css" />
    <script type="text/javascript" src="common.js"></script>
    <script
      type="text/javascript"
      src="297 serialize and deserialize binary tree.js"
    ></script>
    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("result").innerHTML = serialize(
          deserialize("[1,2,3,null,null,4,5,null,null,null,null]")
        );
      });
    </script>
    <title>297. Serialize and Deserialize Binary Tree</title>
  </head>
  <body>
    <main>
      <h1>297. Serialize and Deserialize Binary Tree</h1>
      <section>
        <h2>Description</h2>
        <div>
          <p>
            Serialization is the process of converting a data structure or
            object into a sequence of bits so that it can be stored in a file or
            memory buffer, or transmitted across a network connection link to be
            reconstructed later in the same or another computer environment.
          </p>

          <p>
            Design an algorithm to serialize and deserialize a binary tree.
            There is no restriction on how your serialization/deserialization
            algorithm should work. You just need to ensure that a binary tree
            can be serialized to a string and this string can be deserialized to
            the original tree structure.
          </p>

          <p><strong>Example: </strong></p>

          <pre>
You may serialize the following tree:

    1
   / \
  2   3
     / \
    4   5

as <code>"[1,2,3,null,null,4,5]"</code>
</pre
          >

          <p>
            <strong>Clarification:</strong> The above format is the same as
            <a href="/faq/#binary-tree">how LeetCode serializes a binary tree</a
            >. You do not necessarily need to follow this format, so please be
            creative and come up with different approaches yourself.
          </p>

          <p>
            <strong>Note: </strong>Do not use class member/global/static
            variables to store states. Your serialize and deserialize algorithms
            should be stateless.
          </p>
        </div>
      </section>
      <section>
        <h2>My Solution</h2>
        <h3>Example Testcase</h3>
        <pre>
Input:			"[1,2,3,null,null,4,5,null,null,null,null]"
Expected Output:	"[1,2,3,null,null,4,5,null,null,null,null]"
Actual Output:		<span id="result"></span>
</pre>
        <h3>Analysis</h3>
        <p>
          leetcode's problem descrption says we can use any format we want we
          serialize the tree so my format is not 100% like the one they use. I
          really do not like how they're not explicit with their leaf nodes. I
          never liked it at all when I started working through these problems.
          So, my format explicitly shows null child nodes. It is uglier but I
          think it's way less confusing to look at.
        </p>
        <h4>serialize()</h4>
        <p>
          This is essentially just level-order traversal. The only change is
          that we build up a string containing all of the nodes' values as we
          traverse the tree. The algorithm is as follows: make a queue to hold
          discovered nodes. Start with the root and queue it. While there are
          still nodes in the queue, dequeue each one and enqueue its child
          nodes. Add the dequeued node's value to the serialized string. Repeat
          this process until the queue is empty.
        </p>
        <p>
          The running time complexity is simply O(n) as we visit each node in
          the tree exactly once and queueing/dequeueing are both O(1)
          operations. The queue will only ever have at most two full levels of
          nodes in it at any given time, so space complexity is also simply
          O(n).
        </p>
        <h4>deserialize()</h4>
        <p>
          This is actually much easier than serialize(). We get a serialized
          string and create an array from it. We iterate over each element and
          create a new node and then queue its two children. We know
          <em>for sure</em>
          that the next two elements in the array correspond to the current
          node's children because I explicitly coded serialize() to
          <em>always</em> include null child nodes, regardless of position on
          the tree. I am quite happy I decided to do it this way.
        </p>
        <p>
          We iterate over the array of node values exactly once. We also
          queue/dequeue n nodes once each. The running time complexity is O(n).
          The space complexity is also O(n) for the same reasons serialize() is.
        </p>
        <h3>Thoughts</h3>
        <p>
          This was a great problem. I am especially glad I picked this one to
          complete because now I have two great functions to use for my
          writeups. Lately I have been focusing on problems dealing with data
          structures and now I can easily create trees for my example sections.
        </p>
      </section>
    </main>
  </body>
</html>
